<% include ../partials/header %>
<% include ../partials/menu %>
	<div class="container">
		<br>
		<!-- Begin table headers (static html) -->
		<table class="table table-bordered" id="stats_table">
			<tr>
				<th class="align-bottom" rowspan="2">Game Date</th>
				<th class="align-bottom"rowspan="2">Opposing Team Name</th>
				<th class="text-center" colspan="2">Score</th>
				<th class="align-bottom" rowspan="2">Winner</th>
			</tr>
			<tr>
				<th>Home Score</th>
				<th>Opp. Score</th>
			</tr>

			<!-- end table headers  -->

			<!-- Magic goes here; we're still in the <table> tag -->
			<!-- Now we'll build rows for our table (by string manipulation) -->

			<!-- Rememeber <tr> tag is for a row; <td> tag is per column -->
			<% if (games) {
				var game_rows = '';
				 games.forEach(function(item){
				 	game_rows += '<tr><td>' + item.game_date + '</td>';
				 	game_rows += '<td>'+ item.visitor_name +'</td>';
				 	game_rows += '<td>'+ item.home_score +'</td>';
				 	game_rows += '<td>'+ item.visitor_score +'</td>';
				 	if(item.home_score > item.visitor_score)
				 	{
				 		game_rows += '<td>CU Boulder</td></tr>';
					 }
					 else
					 {
					 	game_rows += '<td>' + item.visitor_name + '</td></tr>';
					 }
				});%>
				<!-- We built this game_rows by string manipulation and now it contains all the rows of data -->
				<!-- We can display these rows just by accessing the game_rows element like we did here: Notice the tag used this time  -->
			<%- game_rows %>
			<% } %>
		</table>
		<!-- Close of the Table tag -->
		<!-- Now we edit the Wins/Losses table at the bottom of the screen -->
		<br>
		<table class="table text-center">
			<tr>
				<th>Wins</th>
				<th>Losses</th>
			</tr>
			<tr>
				<td> <%- total_wins %> </td>
				<!-- Display the total_losses variable here; set in server.js -->
				<td> <%- total_losses %></td>
			</tr>
		</table>

	</div>
<% include ../partials/footer %>
